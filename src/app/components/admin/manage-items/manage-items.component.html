<div class="manage-items-container">
  <h1 class="page-title">
    ğŸ› ï¸ Manage Items
  </h1>

  <div class="table-container">
    <div class="table-responsive">
      <table class="table table-striped table-bordered align-middle">
        <thead class="table-dark">
          <tr>
            <th>ğŸ·ï¸ Name</th>
            <th>ğŸ’° Price</th>
            <th>ğŸ“… Expiration Date</th>
            <th>âš™ï¸ Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let item of items">
            <!-- Name -->
            <td *ngIf="editingItem?.id === item.id">
              <input class="form-control" 
                     [(ngModel)]="editingItem!.name" 
                     placeholder="Enter item name" />
            </td>
            <td *ngIf="editingItem?.id !== item.id">{{ item.name }}</td>

            <!-- Price -->
            <td *ngIf="editingItem?.id === item.id">
              <input type="number" 
                     class="form-control" 
                     [(ngModel)]="editingItem!.price"
                     placeholder="0.00" 
                     step="0.01" />
            </td>
            <td *ngIf="editingItem?.id !== item.id">${{ item.price }}</td>

            <!-- Expiration Date -->
            <td *ngIf="editingItem?.id === item.id">
              <input type="date" 
                     class="form-control" 
                     [(ngModel)]="editingItem!.exp_date" />
            </td>
            <td *ngIf="editingItem?.id !== item.id">{{ item.exp_date }}</td>

            <!-- Actions -->
            <td>
              <div class="action-buttons">
                <button class="btn btn-sm btn-primary me-1"
                        *ngIf="editingItem?.id !== item.id"
                        (click)="editItem(item)">
                  âœï¸ Edit
                </button>
                <button class="btn btn-sm btn-success me-1"
                        *ngIf="editingItem?.id === item.id"
                        (click)="saveItem()">
                  âœ… Save
                </button>
                <button class="btn btn-sm btn-secondary me-1"
                        *ngIf="editingItem?.id === item.id"
                        (click)="cancelEdit()">
                  âŒ Cancel
                </button>
                <button class="btn btn-sm btn-danger"
                        (click)="deleteItem(item.id)">
                  ğŸ—‘ï¸ Delete
                </button>
              </div>
            </td>
          </tr>
        </tbody>
      </table>

      <!-- Message if no items -->
      <div *ngIf="items.length === 0" class="text-center text-muted mt-3">
        No items found.
      </div>
    </div>
  </div>
</div>